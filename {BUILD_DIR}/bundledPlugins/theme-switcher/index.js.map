{"version":3,"file":"index.js","mappings":"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C1B,mBAAmB,2EAAc;AACjC;AACA;;AAEA;AACA;AACA,kBAAkB,6CAAM;AACxB,EAAE,gDAAS;AACX;AACA;AACA;;AAEA;AACA,MAAM,sDAAc;AACpB;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH,kBAAkB,6CAAM;AACxB,EAAE,gDAAS;AACX;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,sDAAc;AAClB;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;;;;;;;ACvHO;AACP;AACA;;AAEA,wEAAwE,aAAa;AACrF;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACO;AACP,yEAAyE,eAAe;AACxF;AACA;;AAEA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACjFoE;AACF;AACoB;AACtF;;AAEA,2CAA2C,gCAAgC,oCAAoC,oDAAoD,sBAAsB,0CAA0C,iEAAiE,KAAK,kCAAkC;;AAE3U,iCAAiC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,4EAAe,6BAA6B,KAAK,6CAA6C,6EAA6E,OAAO,iDAAiD,mFAAmF,OAAO;;AAEjc;AACnB;AACT;AAClC;AACP;AACA;AACA;AACA;AACA,iBAAiB,qFAAwB;;AAEzC,4BAA4B,+DAAc,mCAAmC,WAAW;AACxF;AACA,OAAO;AACP,6BAA6B,2EAAc;AAC3C;AACA;AACA;;AAEA,wDAAwD,WAAW;AACnE;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,QAAQ;AACR;AACA;;AAEA,aAAa,oDAAa;AAC1B;;AAEA,0EAA0E,sDAAc;AACxF;;AAEA;AACA,aAAa,oDAAa,yCAAyC;AACnE;AACA,OAAO;AACP;;AAEA,6BAA6B,iDAAe;AAC5C;AACA;;;;;;;;;;;;;;;ACrDA,wBAAwB,2BAA2B,2EAA2E,kCAAkC,wBAAwB,OAAO,kCAAkC,mIAAmI;;AAErV;AACf;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACTA,4CAA4C,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;;AAEpM,sBAAsB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,iCAAiC,kBAAkB;;AAErQ;AACf;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,+CAA+C;AAC/C,GAAG,IAAI;AACP;AACA;;;;;;;;;;;;;;;;ACf0C;AAC1C,iEAAe,yDAAY;AAC3B,yEAAyE,aAAa;AACtF;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC,CAAC;;;;;;;;;;;;;;;ACXF,4CAA4C,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;;AAEpM,sBAAsB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,iCAAiC,kBAAkB;;AAErQ;AACf;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,6CAA6C;AAC7C,GAAG,IAAI;AACP;AACA;;;;;;;;;;;;;;;;ACfqC;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,6CAAK;AACT,IAAI,2CAAG;AACP,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACvJA,sBAAsB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,iCAAiC,kBAAkB;;AAExP;;AAE5B;AACA;AACA;AACA;;AAEA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAW,8CAAK;AAChB,OAAO,8CAAK;AACZ;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACxGA,sBAAsB,gDAAgD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,iCAAiC,kBAAkB;;AAExP;AACb;AACf,4FAA4F,aAAa;AACzG;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;;;AAGN,iBAAiB,oDAAW;AAC5B,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BkC;AACuB;AACE;AACR;AACJ;AACJ;AACM;AACF;AACA;AACxC,YAAY,mCAAM;;;;;;;;;;;;;;;;ACToB;AAC7C,iEAAe;AACf,eAAe,yCAAW;AAC1B,CAAC;;;;;;;;;;;;;;;;;ACH4B;AAC7B,gBAAgB,sDAAa;AACtB;AACP;AACA;AACA;AACA;;AAEA;AACA;AACO;;AAEP;AACA;AACA;AACA,0EAA0E,aAAa;AACvF;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACO;AACP;AACA;;;;;;;;;;;AC7BA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;AACA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,oCAAoC,yBAAyB,SAAS,yBAAyB;;;;;;;;;;ACL/F;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;;;;ACH7F;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;;;;ACH7F,oBAAoB,mBAAO,CAAC,sFAAoB;AAChD;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;;;;ACZ1F,oBAAoB,mBAAO,CAAC,sFAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;;;;ACT7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,YAAY,kEAAkE;AACtF,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA,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","sources":["webpack://theme-switcher/./node_modules/font-scanner/index.js","webpack://theme-switcher/./src/SettingsTheme.tsx","webpack://theme-switcher/./src/ThemeEditor.tsx","webpack://theme-switcher/./src/actions.ts","webpack://theme-switcher/./src/operations.ts","webpack://theme-switcher/./src/reducers.ts","webpack://theme-switcher/./src/util.ts","webpack://theme-switcher/../../node_modules/react-i18next/dist/es/context.js","webpack://theme-switcher/../../node_modules/react-i18next/dist/es/unescape.js","webpack://theme-switcher/../../node_modules/react-i18next/dist/es/useTranslation.js","webpack://theme-switcher/../../node_modules/react-i18next/dist/es/utils.js","webpack://theme-switcher/../../node_modules/react-i18next/dist/es/withTranslation.js","webpack://theme-switcher/../../node_modules/redux-act/esm/asError.js","webpack://theme-switcher/../../node_modules/redux-act/esm/assignAll.js","webpack://theme-switcher/../../node_modules/redux-act/esm/batch.js","webpack://theme-switcher/../../node_modules/redux-act/esm/bindAll.js","webpack://theme-switcher/../../node_modules/redux-act/esm/createAction.js","webpack://theme-switcher/../../node_modules/redux-act/esm/createReducer.js","webpack://theme-switcher/../../node_modules/redux-act/esm/disbatch.js","webpack://theme-switcher/../../node_modules/redux-act/esm/index.js","webpack://theme-switcher/../../node_modules/redux-act/esm/loggers/index.js","webpack://theme-switcher/../../node_modules/redux-act/esm/loggers/reduxLogger.js","webpack://theme-switcher/../../node_modules/redux-act/esm/types.js","webpack://theme-switcher/external commonjs2 \"react\"","webpack://theme-switcher/external commonjs2 \"react-bootstrap\"","webpack://theme-switcher/external commonjs2 \"react-redux\"","webpack://theme-switcher/external commonjs2 \"vortex-api\"","webpack://theme-switcher/external node-commonjs \"path\"","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/createClass.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/typeof.js","webpack://theme-switcher/../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://theme-switcher/webpack/bootstrap","webpack://theme-switcher/webpack/runtime/compat get default export","webpack://theme-switcher/webpack/runtime/define property getters","webpack://theme-switcher/webpack/runtime/hasOwnProperty shorthand","webpack://theme-switcher/webpack/runtime/make namespace object","webpack://theme-switcher/./src/index.ts"],"sourcesContent":["let fontManager;\ntry {\n  fontManager = require('./build/Release/fontmanager');\n} catch (releaseNotFoundError) {\n  try {\n    fontManager = require('./build/Debug/fontmanager');\n  } catch (debugNotFoundError) {\n    throw new Error('There is no built binary for font-manager');\n  }\n}\n\nmodule.exports = {\n  findFontSync: (fontDescriptor) => fontManager.findFontSync(fontDescriptor),\n  findFont: (fontDescriptor) => fontManager.findFont(fontDescriptor),\n  findFontsSync: (fontDescriptor) => fontManager.findFontsSync(fontDescriptor),\n  findFonts: (fontDescriptor) => fontManager.findFonts(fontDescriptor),\n  getAvailableFontsSync: () => fontManager.getAvailableFontsSync(),\n  getAvailableFonts: () => fontManager.getAvailableFonts(),\n  substituteFontSync: (postscriptName, text) => fontManager.substituteFontSync(postscriptName, text),\n  substituteFont: (postscriptName, text) => fontManager.substituteFont(postscriptName, text)\n};\n","import { selectTheme } from './actions';\nimport ThemeEditor from './ThemeEditor';\n\nimport * as React from 'react';\nimport { Alert, Button, ControlLabel, FormControl, FormGroup, InputGroup } from 'react-bootstrap';\nimport { withTranslation } from 'react-i18next';\nimport { connect } from 'react-redux';\nimport * as Redux from 'redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { actions, ComponentEx, log, tooltip, types, util } from 'vortex-api';\n\nexport interface ISettingsThemeProps {\n  readThemes: () => Promise<string[]>;\n  onCloneTheme: (themeName: string, newName: string) => Promise<void>;\n  onSelectTheme: (themeName: string) => void;\n  onSaveTheme: (themeName: string, variables: { [name: string]: string }) => Promise<void>;\n  onRemoveTheme: (themeName: string) => Promise<void>;\n  readThemeVariables: (themeName: string) => Promise<{ [key: string]: string }>;\n  locationToName: (location: string) => string;\n  nameToLocation: (name: string) => string;\n  isThemeCustom: (themeName: string) => boolean;\n  onEditStyle: (themeName: string) => void;\n  getAvailableFonts: () => Promise<string[]>;\n}\n\ninterface IConnectedProps {\n  currentTheme: string;\n}\n\ninterface IActionProps {\n  onShowDialog: (\n    type: types.DialogType,\n    title: string,\n    content: types.IDialogContent,\n    actions: types.DialogActions,\n  ) => Promise<types.IDialogResult>;\n  onShowError: (title: string, details: any) => void;\n}\n\ntype IWrapperProps = ISettingsThemeProps & IConnectedProps & IActionProps;\ntype IProps = Omit<ISettingsThemeProps, \"readThemes\"> & { themes: string[] } & IConnectedProps & IActionProps;\n\ninterface IComponentState {\n  availableFonts: string[];\n  variables: { [key: string]: string };\n  editable: boolean;\n}\n\nclass SettingsTheme extends ComponentEx<IProps, IComponentState> {\n  constructor(props: IProps) {\n    super(props);\n\n    this.initState({\n      availableFonts: [],\n      variables: {},\n      editable: false,\n    });\n  }\n\n  public UNSAFE_componentWillMount() {\n    this.nextState.availableFonts = Array.from(new Set<string>(\n      [\n        'Inter',\n        'Roboto',\n        'BebasNeue',\n        'Montserrat',\n      ]));\n\n    this.nextState.editable = this.isCustom(this.props.currentTheme);\n    return this.updateVariables(this.props.currentTheme);\n  }\n\n  public UNSAFE_componentWillReceiveProps(newProps: IProps) {\n    if (this.props.currentTheme !== newProps.currentTheme) {\n      this.updateVariables(newProps.currentTheme);\n      this.nextState.editable = this.isCustom(newProps.currentTheme);\n    }\n  }\n\n  public render(): JSX.Element {\n    const { t, currentTheme, themes } = this.props;\n    const { editable, variables } = this.state;\n    return (\n      <div style={{ position: 'relative' }}>\n        <form>\n          <FormGroup controlId='themeSelect'>\n            <ControlLabel>{t('Theme')}</ControlLabel>\n            <InputGroup style={{ width: 300 }}>\n              <FormControl\n                componentClass='select'\n                onChange={this.selectTheme}\n                value={currentTheme}\n              >\n                {themes.map(iter => {\n                  const theme = this.props.locationToName(iter);\n                  return this.renderTheme(theme, theme);\n                })}\n              </FormControl>\n              <InputGroup.Button>\n                <Button bsStyle='primary' onClick={this.onClone} >{t('Clone')}</Button>\n                {editable\n                  ? <Button bsStyle='primary' onClick={this.remove}>{t('Remove')}</Button>\n                  : null}\n              </InputGroup.Button>\n            </InputGroup>\n            {editable ? null : (\n              <Alert bsStyle='info'>\n                {t('Please clone this theme to modify it.')}\n              </Alert>\n            )}\n          </FormGroup>\n        </form>\n        <ThemeEditor\n          t={t}\n          themeName={currentTheme}\n          theme={variables}\n          onApply={this.saveTheme}\n          disabled={!editable}\n          onEditStyle={this.props.onEditStyle}\n          getAvailableFonts={this.props.getAvailableFonts}\n        />\n        {editable\n          ? (\n            <tooltip.IconButton\n              style={{ position: 'absolute', top: 20, right: 20 }}\n              className='btn-embed'\n              icon='refresh'\n              tooltip={t('Reload')}\n              onClick={this.refresh}\n            />\n          ) : null}\n      </div>\n    );\n  }\n\n  public renderTheme(key: string, name: string) {\n    return <option key={key} value={key}>{name}</option>;\n  }\n\n  private refresh = () => {\n    const { currentTheme } = this.props;\n    this.props.onSelectTheme(currentTheme);\n  }\n\n  private saveTheme = (variables: { [name: string]: string }) => {\n    const { currentTheme, onSaveTheme } = this.props;\n    onSaveTheme(currentTheme, variables);\n  }\n\n  private async updateVariables(themeName: string) {\n    this.nextState.variables = await this.props.readThemeVariables(themeName);\n  }\n\n  private onClone = () => {\n    this.cloneTheme(this.props.currentTheme, this.props.themes);\n  }\n\n  private cloneTheme(themeName: string, themes: string[], error?: string) {\n    const { t, onCloneTheme } = this.props;\n\n    // note: In the past we used proper name normalization based on the file system themes are stored on,\n    //   meaning that on a case-sensitive file system (linux), we would have allowed two themes to be named\n    //   \"same\" and \"SAME\".\n    //   I don't feel like that's actually desireable - much less worth making the code more complex over\n    const existing = new Set(themes.map(theme => this.props.locationToName(theme).toUpperCase()));\n\n    return this.props.onShowDialog('question', 'Enter a name', {\n      bbcode: error !== undefined ? `[color=red]${t(error)}[/color]` : undefined,\n      input: [{\n        id: 'name',\n        placeholder: 'Theme Name',\n        value: themeName !== '__default' ? themeName : '',\n      }],\n      condition: (content: types.IDialogContent) => {\n        const res: types.IConditionResult[] = [];\n        const { value } = content.input?.[0] ?? {};\n        if ((value !== undefined) && (existing.has(value.toUpperCase()))) {\n          res.push({\n            id: 'name',\n            errorText: 'Name already used',\n            actions: ['Clone'],\n          });\n        }\n        if ((value !== undefined) && !util.isFilenameValid(value)) {\n          res.push({\n            id: 'name',\n            errorText: 'Invalid symbols in name',\n            actions: ['Clone'],\n          });\n        }\n        return res;\n      },\n    }, [{ label: 'Cancel' }, { label: 'Clone' }])\n      .then(res => {\n        if (res.action === 'Clone') {\n          return onCloneTheme(themeName, res.input.name);\n        }\n        return Promise.resolve();\n      })\n      .catch(err => {\n        if (err instanceof util.ArgumentInvalid) {\n          return this.cloneTheme(themeName, themes, err.message);\n        }\n        this.props.onShowError('Failed to clone theme', err);\n      });\n  }\n\n  private remove = () => {\n    const { t, currentTheme, onShowDialog } = this.props;\n    log('info', 'removing theme', currentTheme);\n    if (!currentTheme || !this.isCustom(currentTheme)) {\n      throw new Error('invalid theme');\n    }\n    onShowDialog('question', t('Confirm removal'), {\n      text: t('Are you sure you want to remove the theme \"{{theme}}\"', {\n        replace: { theme: currentTheme },\n      }),\n    }, [\n      { label: 'Cancel' },\n      {\n        label: 'Confirm',\n        action: () => {\n          this.props.onRemoveTheme(currentTheme);\n        },\n      },\n    ]);\n  }\n\n  private selectTheme = (evt) => {\n    this.context.api.events.emit('analytics-track-click-event', 'Themes', 'Select theme');\n    this.props.onSelectTheme(evt.currentTarget.value);\n  }\n\n  private isCustom = (themeName: string): boolean => {\n    return this.props.isThemeCustom(themeName);\n  }\n}\n\nfunction mapStateToProps(state: any): IConnectedProps {\n  return {\n    currentTheme: state.settings.interface.currentTheme,\n  };\n}\n\nfunction mapDispatchToProps(dispatch: ThunkDispatch<any, any, Redux.Action>): IActionProps {\n  return {\n    onShowError: (title: string, details: any) => util.showError(dispatch, title, details),\n    onShowDialog: (type, title, content, dialogActions) =>\n      dispatch(actions.showDialog(type, title, content, dialogActions)),\n  };\n}\n\nfunction SettingsThemeWrapper(props: IWrapperProps) {\n  const [themes, setThemes] = React.useState<string[]>(undefined);\n\n  React.useEffect(() => {\n    (async () => {\n      const result = await props.readThemes();\n      setThemes(result);\n    })();\n  }, []);\n\n  if (themes !== undefined) {\n    return <SettingsTheme {...props} themes={themes} />\n  }\n\n  return null;\n}\n\nexport default\n  withTranslation(['common'])(\n    connect(mapStateToProps, mapDispatchToProps)(\n      SettingsThemeWrapper)) as any;\n","import { TFunction } from 'i18next';\r\nimport * as React from 'react';\r\nimport { Button, Col, ControlLabel, Form, FormControl, FormGroup,\r\n         Grid, OverlayTrigger, Panel, Popover, Row } from 'react-bootstrap';\r\nimport { ComponentEx, More, Toggle } from 'vortex-api';\r\n\r\ninterface IColor {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n  a?: number;\r\n}\r\n\r\ninterface IColorProps {\r\n  name: string;\r\n  color: IColor;\r\n  disabled: boolean;\r\n  onUpdateColor: (name: string, colorHex: string) => void;\r\n}\r\n\r\nfunction toHex(num: number): string {\r\n  let res = num.toString(16);\r\n  if (num < 16) {\r\n    res = '0' + res;\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction colorToHex(color: IColor): string {\r\n  return '#'\r\n    + toHex(color.r)\r\n    + toHex(color.g)\r\n    + toHex(color.b);\r\n}\r\n\r\nfunction colorFromHex(colorHex: string): IColor {\r\n  const parts = colorHex.substr(1).match(/.{2}/g);\r\n  return {\r\n    r: parseInt(parts[0], 16),\r\n    g: parseInt(parts[1], 16),\r\n    b: parseInt(parts[2], 16),\r\n  };\r\n}\r\n\r\nfunction renderColorBox(color: IColor): JSX.Element {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: 16,\r\n        height: 16,\r\n        display: 'inline-block',\r\n        border: 'solid 1px gray',\r\n        marginLeft: 4,\r\n        backgroundColor: colorToHex(color),\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nclass ColorPreview extends React.Component<IColorProps, never> {\r\n  public render(): JSX.Element {\r\n    const { color, disabled } = this.props;\r\n\r\n    const content = (\r\n      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n        <input\r\n          type=\"color\"\r\n          value={colorToHex(color)}\r\n          disabled={disabled}\r\n          onChange={this.onUpdate}\r\n          style={{ width: '40px', height: '30px', border: 'none', cursor: disabled ? 'default' : 'pointer' }}\r\n        />\r\n        <span>{colorToHex(color)}</span>\r\n      </div>\r\n    );\r\n\r\n    return content;\r\n  }\r\n\r\n  private onUpdate = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, onUpdateColor } = this.props;\r\n    onUpdateColor(name, event.target.value);\r\n  }\r\n}\r\n\r\ninterface IColorEntry {\r\n  name: string;\r\n  value: string;\r\n}\r\n\r\nexport interface IBaseProps {\r\n  t: TFunction;\r\n  themeName: string;\r\n  theme: { [name: string]: string };\r\n  disabled: boolean;\r\n  onApply: (updatedTheme: { [name: string]: string }) => void;\r\n  onEditStyle: (themeName: string) => void;\r\n  getAvailableFonts: () => Promise<string[]>;\r\n}\r\n\r\ntype IProps = IBaseProps;\r\n\r\nconst colorDefaults: IColorEntry[] = [\r\n  { name: 'brand-primary', value: '#D78F46' },\r\n  { name: 'brand-highlight', value: '#00C1FF' },\r\n  { name: 'brand-success', value: '#86B951' },\r\n  { name: 'brand-info', value: '#00C1FF' },\r\n  { name: 'brand-warning', value: '#FF7300' },\r\n  { name: 'brand-danger', value: '#FF1C38' },\r\n  { name: 'brand-bg', value: '#2A2C2B' },\r\n  { name: 'brand-menu', value: '#4C4C4C' },\r\n  { name: 'brand-secondary', value: '#D78F46' },\r\n  { name: 'brand-clickable', value: '#D78F46' },\r\n  { name: 'text-color', value: '#eeeeee' },\r\n  { name: 'text-color-disabled', value: '#bbbbbb' },\r\n  { name: 'link-color', value: '#D78F46' },\r\n];\r\n\r\ninterface IComponentState {\r\n  fontFamily: string;\r\n  fontFamilyHeadings: string;\r\n  fontSize: number;\r\n  hidpiScale: number;\r\n  colors: { [key: string]: string };\r\n  margin: number;\r\n  dashletHeight: number;\r\n  titlebarRows: number;\r\n  dark: boolean;\r\n\r\n  availableFonts: string[];\r\n}\r\n\r\nconst defaultTheme = {\r\n  colors: {},\r\n  fontSize: 12,\r\n  fontFamily: 'Inter',\r\n  fontFamilyHeadings: 'Inter',\r\n  hidpiScale: 100,\r\n  margin: 30,\r\n  dashletHeight: 120,\r\n  titlebarRows: 2,\r\n  dark: true,\r\n};\r\n\r\nconst standardFonts: string[] = [\r\n  'Inter',\r\n  'Roboto',\r\n  'Montserrat',\r\n  'BebasNeue',\r\n  'sans-serif',\r\n  'serif',\r\n  'Arial',\r\n  'Courier New',\r\n  'Georgia',\r\n  'Impact',\r\n  'Marlett',\r\n  'Monaco',\r\n  'Tahoma',\r\n  'Times New Roman',\r\n  'Verdana',\r\n];\r\n\r\nclass ThemeEditor extends ComponentEx<IProps, IComponentState> {\r\n  private static BUCKETS = 3;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n\r\n    this.initState({\r\n      ...defaultTheme,\r\n      availableFonts: standardFonts,\r\n    });\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this.setColors(this.props.theme);\r\n    this.setFontSize(this.props.theme);\r\n    this.setHiDPIScale(this.props.theme);\r\n    this.setFontFamily(this.props.theme);\r\n    this.setFontFamilyHeadings(this.props.theme);\r\n    this.setMargin(this.props.theme);\r\n    this.setDashletHeight(this.props.theme);\r\n    this.setDark(this.props.theme);\r\n    this.setTitlebarRows(this.props.theme);\r\n  }\r\n\r\n  public UNSAFE_componentWillReceiveProps(newProps: IProps) {\r\n    if (newProps.theme !== this.props.theme) {\r\n      this.setColors(newProps.theme);\r\n      this.setFontSize(newProps.theme);\r\n      this.setHiDPIScale(newProps.theme);\r\n      this.setFontFamily(newProps.theme);\r\n      this.setFontFamilyHeadings(newProps.theme);\r\n      this.setMargin(newProps.theme);\r\n      this.setDashletHeight(newProps.theme);\r\n      this.setDark(newProps.theme);\r\n      this.setTitlebarRows(this.props.theme);\r\n    }\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { t, disabled } = this.props;\r\n    const { colors, dark, dashletHeight, fontFamily, fontFamilyHeadings,\r\n      fontSize, margin, titlebarRows } = this.state;\r\n\r\n    const availableFonts = this.state.availableFonts.slice(0);\r\n    if (!availableFonts.includes(fontFamily)) {\r\n      availableFonts.push(fontFamily);\r\n    }\r\n\r\n    const buckets: IColorEntry[][] = colorDefaults.reduce((prev, value, idx) => {\r\n      if (idx < ThemeEditor.BUCKETS) {\r\n        prev[idx % ThemeEditor.BUCKETS] = [];\r\n      }\r\n      prev[idx % ThemeEditor.BUCKETS].push(value);\r\n      return prev;\r\n    }, new Array(ThemeEditor.BUCKETS));\r\n    return (\r\n      <div>\r\n        <Form disabled={disabled} horizontal>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>{t('Font Size:')} {fontSize}</ControlLabel>\r\n            </Col>\r\n            <Col sm={8}>\r\n              <FormControl\r\n                type='range'\r\n                value={fontSize}\r\n                min={8}\r\n                max={24}\r\n                onChange={this.onChangeFontSize}\r\n                disabled={disabled}\r\n              />\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>{t('Margins:')}</ControlLabel>\r\n            </Col>\r\n            <Col sm={8}>\r\n              <FormControl\r\n                type='range'\r\n                value={margin}\r\n                min={0}\r\n                max={80}\r\n                onChange={this.onChangeMargin}\r\n                disabled={disabled}\r\n              />\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>{t('Font Family:')}</ControlLabel>\r\n            </Col>\r\n            <Col sm={4}>\r\n              <FormControl\r\n                componentClass='select'\r\n                onChange={this.onChangeFontFamily}\r\n                value={fontFamily}\r\n                disabled={disabled}\r\n              >\r\n                {availableFonts.map(this.renderFontOption)}\r\n              </FormControl>\r\n            </Col>\r\n            <Col sm={4}>\r\n              <Button onClick={this.readFont}>{t('Read system fonts')}</Button>\r\n              <More id='more-system-fonts' name={t('System Fonts')}>\r\n                {t('Makes all system fonts installed on the system available in the Font dropdowns. '\r\n                   + 'This function seems to cause Vortex to crash for a very small number '\r\n                   + 'of users and we have not been able to identify what sets the '\r\n                   + 'affected systems apart yet.')}\r\n              </More>\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col smOffset={4} sm={8}>\r\n              <FormControl.Static style={{ fontFamily, fontSize: fontSize.toString() + 'px' }}>\r\n                {t('The quick brown fox jumps over the lazy dog')}\r\n              </FormControl.Static>\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>{t('Font Family (Headings):')}</ControlLabel>\r\n            </Col>\r\n            <Col sm={8}>\r\n              <FormControl\r\n                componentClass='select'\r\n                onChange={this.onChangeFontFamilyHeadings}\r\n                value={fontFamilyHeadings}\r\n                disabled={disabled}\r\n              >\r\n                {availableFonts.map(this.renderFontOption)}\r\n              </FormControl>\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col smOffset={4} sm={8}>\r\n              <FormControl.Static\r\n                style={{\r\n                  fontFamily: fontFamilyHeadings,\r\n                  fontSize: fontSize.toString() + 'px',\r\n                  textTransform: 'uppercase',\r\n                } as any}\r\n              >\r\n                {t('The quick brown fox jumps over the lazy dog')}\r\n              </FormControl.Static>\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>\r\n                {t('Dashlet Height:')} {dashletHeight}px\r\n                <More id='more-dashlet-height' name={t('Dashlet Height')}>\r\n                  {t('Every dashlet (the widgets on the Dashboards) has a height that is a '\r\n                    + 'multiple of this value and a width of either 1/3, 2/3 or 3/3 of the '\r\n                    + 'window width. Here you can adjust the base height of dashlets but '\r\n                    + 'we can\\'t promise every dashlet will look good or even be usable with '\r\n                    + 'non-default height.')}\r\n                </More>\r\n              </ControlLabel>\r\n            </Col>\r\n            <Col sm={8}>\r\n              <FormControl\r\n                type='range'\r\n                value={dashletHeight}\r\n                min={50}\r\n                max={1000}\r\n                step={4}\r\n                onChange={this.onChangeDashletHeight}\r\n                disabled={disabled}\r\n              />\r\n            </Col>\r\n          </FormGroup>\r\n          <FormGroup>\r\n            <Col sm={4}>\r\n              <ControlLabel>\r\n                {t('Titlebar Rows:')} {titlebarRows}\r\n              </ControlLabel>\r\n            </Col>\r\n            <Col sm={8}>\r\n              <FormControl\r\n                type='range'\r\n                value={titlebarRows}\r\n                min={1}\r\n                max={3}\r\n                step={1}\r\n                onChange={this.onChangeTitlebarRows}\r\n                disabled={disabled}\r\n              />\r\n            </Col>\r\n          </FormGroup>\r\n        </Form>\r\n\r\n        <Panel>\r\n          <div className='panel-body'>\r\n            <Grid style={{ width: '100%' }}>\r\n              {buckets[0].map((value, idx) => {\r\n                return (\r\n                  <Row key={idx}>\r\n                    {buckets.map(bucket =>\r\n                      bucket[idx] !== undefined\r\n                        ? this.renderEntry(bucket[idx], colors[bucket[idx].name])\r\n                        : null)}\r\n                  </Row>\r\n                );\r\n              })}\r\n            </Grid>\r\n          </div>\r\n        </Panel>\r\n        <Toggle checked={dark} onToggle={this.onChangeDark} disabled={disabled}>\r\n          {t('Dark Theme')}\r\n          <More id='more-dark-theme' name={t('Dark Theme')}>\r\n            {t('When this is enabled, grays are essentially inverted, so a light gray becomes '\r\n              + 'a dark gray and vice versa.\\n'\r\n              + 'If your theme is mostly light foreground colors on dark background, this '\r\n              + 'will produce better contrast.')}\r\n          </More>\r\n        </Toggle>\r\n        {disabled ? null : <a onClick={this.editManually}>{t('Edit CSS manually...')}</a>}\r\n        {disabled ? null : (\r\n          <div className='pull-right'>\r\n            <Button bsStyle='primary' onClick={this.revert}>{t('Revert')}</Button>\r\n            <Button bsStyle='primary' onClick={this.apply}>{t('Apply')}</Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private readFont = () => {\r\n    this.props.getAvailableFonts().then(fonts =>\r\n      this.nextState.availableFonts = fonts);\r\n  }\r\n\r\n  private renderEntry = (entry: IColorEntry, value: string) => {\r\n    const { disabled } = this.props;\r\n    return (\r\n      <Col key={entry.name} sm={4} md={4} lg={4} style={{ display: 'inline-flex' }}>\r\n        <span style={{ marginRight: 'auto' }}>{entry.name}</span>\r\n        <ColorPreview\r\n          name={entry.name}\r\n          color={colorFromHex(value || entry.value)}\r\n          onUpdateColor={this.updateColor}\r\n          disabled={disabled}\r\n        />\r\n      </Col>\r\n    );\r\n  }\r\n\r\n  private renderFontOption(name: string) {\r\n    return (\r\n      <option key={name}>\r\n        {name}\r\n      </option>\r\n    );\r\n  }\r\n\r\n  private editManually = () => {\r\n    const { disabled, themeName } = this.props;\r\n    if (disabled) {\r\n      return;\r\n    }\r\n\r\n    this.props.onEditStyle(themeName);\r\n  }\r\n\r\n  private revert = () => {\r\n    this.setColors(this.props.theme);\r\n    this.setFontSize(this.props.theme);\r\n    this.setHiDPIScale(this.props.theme);\r\n    this.setFontFamily(this.props.theme);\r\n    this.setFontFamilyHeadings(this.props.theme);\r\n    this.setMargin(this.props.theme);\r\n    this.setDark(this.props.theme);\r\n    this.setTitlebarRows(this.props.theme);\r\n  }\r\n\r\n  private apply = () => {\r\n    let fontFamily = this.state.fontFamily;\r\n    if (!['serif', 'sans-serif'].includes(fontFamily)) {\r\n      fontFamily = `\"${fontFamily}\"`;\r\n    }\r\n    const theme: { [key: string]: string } = {\r\n      ...this.state.colors,\r\n      'font-size-base': this.state.fontSize.toString() + 'px',\r\n      'hidpi-scale-factor': this.state.hidpiScale.toString() + '%',\r\n      'font-family-base': fontFamily,\r\n      'font-family-headings': '\"' + this.state.fontFamilyHeadings + '\"',\r\n      'gutter-width': this.state.margin.toString() + 'px',\r\n      'dashlet-height': `${this.state.dashletHeight}px`,\r\n      'dark-theme': this.state.dark ? 'true' : 'false',\r\n      'titlebar-rows': this.state.titlebarRows.toString(),\r\n    };\r\n    const grayNames = ['gray-lighter', 'gray-light', 'gray', 'gray-dark', 'gray-darker'];\r\n    let grayColors = ['DEE2E6', 'DDDDDD', 'A9A9A9', '4C4C4C', '2A2C2B'];\r\n    if (this.state.dark) {\r\n      grayColors = grayColors.reverse();\r\n    }\r\n\r\n    grayNames.forEach((id: string, idx: number) => { theme[id] = '#' + grayColors[idx]; });\r\n\r\n    this.props.onApply(theme);\r\n  }\r\n\r\n  private updateColor = (name: string, color: string) => {\r\n    this.nextState.colors[name] = color;\r\n  }\r\n\r\n  private onChangeFontSize = (evt) => {\r\n    this.nextState.fontSize = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeHiDPIScale = (evt) => {\r\n    this.nextState.hidpiScale = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeFontFamily = (evt) => {\r\n    this.nextState.fontFamily = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeFontFamilyHeadings = (evt) => {\r\n    this.nextState.fontFamilyHeadings = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeMargin = evt => {\r\n    this.nextState.margin = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeDashletHeight = evt => {\r\n    this.nextState.dashletHeight = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeTitlebarRows = evt => {\r\n    this.nextState.titlebarRows = evt.currentTarget.value;\r\n  }\r\n\r\n  private onChangeDark = newValue => {\r\n    this.nextState.dark = newValue;\r\n  }\r\n\r\n  private setFontSize(theme: { [name: string]: string }) {\r\n    this.nextState.fontSize = (theme['font-size-base'] !== undefined)\r\n      ? parseInt(theme['font-size-base'], 10)\r\n      : defaultTheme.fontSize;\r\n  }\r\n\r\n  private setHiDPIScale(theme: { [name: string]: string }) {\r\n    this.nextState.hidpiScale = (theme['hidpi-scale-factor'] !== undefined)\r\n      ? parseInt(theme['hidpi-scale-factor'], 10)\r\n      : defaultTheme.hidpiScale;\r\n  }\r\n\r\n  private setFontFamily(theme: { [name: string]: string }) {\r\n    const fontFamily = theme['font-family-base'] || defaultTheme.fontFamily;\r\n    this.nextState.fontFamily = fontFamily.replace(/^\"|\"$/g, '');\r\n  }\r\n\r\n  private setFontFamilyHeadings(theme: { [name: string]: string }) {\r\n    const fontFamily = theme['font-family-headings'] || defaultTheme.fontFamilyHeadings;\r\n    this.nextState.fontFamilyHeadings = fontFamily.replace(/^\"|\"$/g, '');\r\n  }\r\n\r\n  private setMargin(theme: { [name: string]: string }) {\r\n    this.nextState.margin = theme['gutter-width'] !== undefined\r\n      ? parseInt(theme['gutter-width'], 10)\r\n      : defaultTheme.margin;\r\n  }\r\n\r\n  private setDashletHeight(theme: { [name: string]: string }) {\r\n    if (theme['dashlet-height'] !== undefined) {\r\n      this.nextState.dashletHeight = parseInt(theme['dashlet-height'], 10);\r\n    }\r\n  }\r\n\r\n  private setDark(theme: { [name: string]: string }) {\r\n    const dark = theme['dark-theme'] !== undefined\r\n      ? theme['dark-theme'] === 'true'\r\n      : defaultTheme.dark;\r\n    this.nextState.dark = dark;\r\n  }\r\n\r\n  private setTitlebarRows(theme: { [name: string]: string }) {\r\n    if (theme['titlebar-rows'] !== undefined) {\r\n      this.nextState.titlebarRows = parseInt(theme['titlebar-rows'], 10);\r\n    }\r\n  }\r\n\r\n  private setColors(theme: { [name: string]: string }) {\r\n    this.nextState.colors = {};\r\n    colorDefaults.forEach(entry => {\r\n      if (colorDefaults.find(color => color.name === entry.name) !== undefined) {\r\n        this.nextState.colors[entry.name] = theme[entry.name] || entry.value;\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default ThemeEditor;\r\n","import { createAction } from 'redux-act';\r\n\r\nexport const selectTheme = createAction<string, {}>('SELECT_UI_THEME');\r\n","import * as path from 'path';\nimport { fs, log, types, util } from 'vortex-api';\n\nimport * as actions from './actions';\nimport { themesPath } from './util';\n\nlet themes: string[] = [];\n\nexport function readThemes() {\n  const bundledPath = path.join(__dirname, 'themes');\n  return util.readExtensibleDir('theme', bundledPath, themesPath())\n    .tap(extThemes => {\n      themes = extThemes;\n    });\n}\n\nexport function themeName(location: string): string {\n  return path.basename(location);\n}\n\nexport function themePath(themeName: string): string | undefined {\n  themeName = themeName.replace(/^__/, '');\n  return themes.find(theme => path.basename(theme) === themeName);\n}\n\nfunction saveThemeInternal(outputPath: string, variables: { [name: string]: string }) {\n  const theme = Object.keys(variables)\n    .map(name => `\\$${name}: ${variables[name]};`);\n  return fs.writeFileAsync(\n    path.join(outputPath, 'variables.scss'),\n    '// Automatically generated. Changes to this file will be overwritten.\\r\\n'\n    + theme.join('\\r\\n'));\n}\n\nexport function saveTheme(api: types.IExtensionApi, themeName: string,\n                          variables: { [name: string]: string }) {\n  const t = api.translate;\n\n  saveThemeInternal(path.join(themesPath(), themeName), variables)\n    .then(() => {\n      api.events.emit('select-theme', themeName);\n    })\n    .catch(err => {\n      api.showErrorNotification(\n        t('Unable to save theme'), err,\n        // Theme directory should have been present at this point but was removed\n        //  by an external factor. This could be due to:\n        // (Anti Virus, manually removed by mistake, etc); this is not Vortex's fault.\n        { allowReport: (err as any).code !== 'ENOENT' });\n    });\n}\n\nexport function selectTheme(api: types.IExtensionApi, theme: string) {\n  api.store.dispatch(actions.selectTheme(theme));\n  api.events.emit('select-theme', theme);\n}\n\nexport function cloneTheme(api: types.IExtensionApi, themeName: string,\n                           newName: string): Promise<void> {\n  const t = api.translate;\n\n  if (newName && (themes.findIndex(iter => path.basename(iter) === newName) === -1)) {\n    const targetPath = path.join(themesPath(), newName);\n    const sourcePath = themePath(themeName);\n    if (sourcePath === undefined) {\n      return Promise.reject(new Error('no path for current theme'));\n    }\n    api.events.emit('analytics-track-click-event', 'Themes', 'Clone theme');\n\n    return fs.ensureDirAsync(targetPath)\n      .then(() => readThemeVariables(themeName))\n      .then(variables =>\n        saveThemeInternal(path.join(themesPath(), newName), variables))\n      .then(() => (sourcePath !== undefined)\n        ? fs.readdirAsync(sourcePath)\n        : Promise.resolve([]))\n      .map(files => fs.copyAsync(path.join(sourcePath, files), path.join(targetPath, files)))\n      .then(() => {\n        themes.push(targetPath);\n        selectTheme(api, newName);\n      })\n      .catch(err => api.showErrorNotification(\n        t('Failed to read theme directory'),\n        err,\n        // Theme directory has been removed by an external method -\n        // (Anti Virus, manually removed by mistake, etc); this is not Vortex's fault.\n        { allowReport: (err as any).code !== 'ENOENT' }));\n  } else {\n    return Promise.reject(new util.ArgumentInvalid('Name already used'));\n    // cloneTheme(api, themeName, themes, t('Name already used.'));\n  }\n}\n\nexport function readThemeVariables(themeName: string): Promise<{ [key: string]: string }> {\n  const currentThemePath = themePath(themeName);\n  if (currentThemePath === undefined) {\n    // likely was deleted outside Vortex\n    log('warn', 'theme not found', themeName);\n    return Promise.resolve({});\n  }\n \n  return fs.readFileAsync(path.join(currentThemePath, 'variables.scss'))\n    .then(data => {\n      const variables = {};\n      data.toString('utf-8').split('\\r\\n').forEach(line => {\n        const [key, value] = line.split(':');\n        if (value !== undefined) {\n          variables[key.substr(1)] = value.trim().replace(/;*$/, '');\n        }\n      });\n      return variables;\n    })\n    // an exception indicates no variables set. that's fine, defaults are used\n    .catch(() => {\n      return {};\n    });\n}\n\nexport function removeTheme(api: types.IExtensionApi, themeName: string) {\n  selectTheme(api, 'default');\n  const currentThemePath = themePath(themeName);\n  this.nextState.themes = themes\n    .filter(iter => iter !== currentThemePath);\n  return fs.removeAsync(currentThemePath)\n    .then(() => {\n      log('info', 'removed theme', themeName);\n    })\n    .catch(err => {\n      log('error', 'failed to remove theme', { err });\n    });\n}\n\nexport function isThemeCustom(themeName: string): boolean {\n  const themeFilePath = themePath(themeName);\n  if (themeFilePath === undefined) {\n    // We don't have the filepath to this theme..\n    //  possibly a race condition ? if so, this should\n    //  clear up next time the state updates.\n    //  https://github.com/Nexus-Mods/Vortex/issues/7191\n    //\n    // the above issue was in the remove callback so the likely scenario is\n    // that that event was triggered twice and on the second time it was handled\n    // the theme is already gone.\n    return false;\n  }\n\n  // isChildPath plays a bit fast and loose when it comes to directory normalization\n  // if we don't pass in a normalizer, but that shouldn't be a problem here, the official\n  // themes are in the application folder and the themes are in APPDATA or ProgramData so\n  // upper/lower case shouldn't be that big of a deal\n  return util.isChildPath(themeFilePath, themesPath());\n}\n","import { types, util } from 'vortex-api';\r\n\r\nimport * as actions from './actions';\r\n\r\n// Set default theme based on platform\r\nconst getDefaultTheme = () => {\r\n  // Use macOS Tahoe theme as default on Mac systems\r\n  if (process.platform === 'darwin') {\r\n    return 'macos-tahoe';\r\n  }\r\n  // Use default theme on other platforms\r\n  return '__default';\r\n};\r\n\r\nconst settingsReducer: types.IReducerSpec = {\r\n  reducers: {\r\n    [actions.selectTheme as any]: (state, payload) =>\r\n      util.setSafe(state, ['currentTheme'], payload),\r\n  },\r\n  defaults: {\r\n    currentTheme: getDefaultTheme(),\r\n  },\r\n};\r\n\r\nexport default settingsReducer;\r\n","import * as path from 'path';\r\nimport { log, util } from 'vortex-api';\r\n\r\nexport function themesPath(): string {\r\n  return path.join(util.getVortexPath('userData'), 'themes');\r\n}\r\n\r\ninterface IFont {\r\n  family: string;\r\n}\r\n\r\nconst DEFAULT_FONTS = [\r\n  'Inter',\r\n  'Roboto',\r\n  'Montserrat',\r\n  'BebasNeue',\r\n  'Arial',\r\n  'Helvetica',\r\n  'Times New Roman',\r\n  'Courier New',\r\n  'Verdana',\r\n  'Georgia'\r\n];\r\n\r\nconst getAvailableFontImpl = () => {\r\n  try {\r\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n    const fontScanner = require('font-scanner');\r\n    return fontScanner.getAvailableFonts()\r\n      .then((fonts: IFont[]) => Array.from(new Set<string>([\r\n        ...DEFAULT_FONTS,\r\n        ...(fonts || []).map(font => font.family).sort(),\r\n      ])));\r\n  } catch (err) {\r\n    log('warn', 'font-scanner not available, using default fonts', err);\r\n    return Promise.resolve(DEFAULT_FONTS);\r\n  }\r\n};\r\n\r\nconst getAvailableFonts: () => Promise<string[]> =\r\n  util.makeRemoteCall('get-available-fonts', getAvailableFontImpl);\r\n\r\nexport { getAvailableFonts };\r\n","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createContext } from 'react';\nimport { unescape } from './unescape';\nvar defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape: unescape\n};\nvar i18nInstance;\nexport var I18nContext = createContext();\nexport function setDefaults() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = _objectSpread(_objectSpread({}, defaultOptions), options);\n}\nexport function getDefaults() {\n  return defaultOptions;\n}\nexport var ReportNamespaces = function () {\n  function ReportNamespaces() {\n    _classCallCheck(this, ReportNamespaces);\n\n    this.usedNamespaces = {};\n  }\n\n  _createClass(ReportNamespaces, [{\n    key: \"addUsedNamespaces\",\n    value: function addUsedNamespaces(namespaces) {\n      var _this = this;\n\n      namespaces.forEach(function (ns) {\n        if (!_this.usedNamespaces[ns]) _this.usedNamespaces[ns] = true;\n      });\n    }\n  }, {\n    key: \"getUsedNamespaces\",\n    value: function getUsedNamespaces() {\n      return Object.keys(this.usedNamespaces);\n    }\n  }]);\n\n  return ReportNamespaces;\n}();\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}\nexport var initReactI18next = {\n  type: '3rdParty',\n  init: function init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};\nexport function composeInitialProps(ForComponent) {\n  return function (ctx) {\n    return new Promise(function (resolve) {\n      var i18nInitialProps = getInitialProps();\n\n      if (ForComponent.getInitialProps) {\n        ForComponent.getInitialProps(ctx).then(function (componentsInitialProps) {\n          resolve(_objectSpread(_objectSpread({}, componentsInitialProps), i18nInitialProps));\n        });\n      } else {\n        resolve(i18nInitialProps);\n      }\n    });\n  };\n}\nexport function getInitialProps() {\n  var i18n = getI18n();\n  var namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  var ret = {};\n  var initialI18nStore = {};\n  i18n.languages.forEach(function (l) {\n    initialI18nStore[l] = {};\n    namespaces.forEach(function (ns) {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","var matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nvar htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '©',\n  '&#169;': '©',\n  '&reg;': '®',\n  '&#174;': '®',\n  '&hellip;': '…',\n  '&#8230;': '…',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\n\nvar unescapeHtmlEntity = function unescapeHtmlEntity(m) {\n  return htmlEntities[m];\n};\n\nexport var unescape = function unescape(text) {\n  return text.replace(matchHtmlEntity, unescapeHtmlEntity);\n};","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context';\nimport { warnOnce, loadNamespaces, hasLoadedNamespace } from './utils';\n\nvar usePrevious = function usePrevious(value, ignore) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\n\nexport function useTranslation(ns) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var i18nFromProps = props.i18n;\n\n  var _ref = useContext(I18nContext) || {},\n      i18nFromContext = _ref.i18n,\n      defaultNSFromContext = _ref.defaultNS;\n\n  var i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n\n    var notReadyT = function notReadyT(k) {\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n\n    var retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n\n  var i18nOptions = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), i18n.options.react), props);\n\n  var useSuspense = i18nOptions.useSuspense,\n      keyPrefix = i18nOptions.keyPrefix;\n  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {\n    return hasLoadedNamespace(n, i18n, i18nOptions);\n  });\n\n  function getT() {\n    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n\n  var _useState = useState(getT),\n      _useState2 = _slicedToArray(_useState, 2),\n      t = _useState2[0],\n      setT = _useState2[1];\n\n  var joinedNS = namespaces.join();\n  var previousJoinedNS = usePrevious(joinedNS);\n  var isMounted = useRef(true);\n  useEffect(function () {\n    var bindI18n = i18nOptions.bindI18n,\n        bindI18nStore = i18nOptions.bindI18nStore;\n    isMounted.current = true;\n\n    if (!ready && !useSuspense) {\n      loadNamespaces(i18n, namespaces, function () {\n        if (isMounted.current) setT(getT);\n      });\n    }\n\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return function () {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {\n        return i18n.off(e, boundReset);\n      });\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {\n        return i18n.store.off(e, boundReset);\n      });\n    };\n  }, [i18n, joinedNS]);\n  var isInitial = useRef(true);\n  useEffect(function () {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  var ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(function (resolve) {\n    loadNamespaces(i18n, namespaces, function () {\n      resolve();\n    });\n  });\n}","export function warn() {\n  if (console && console.warn) {\n    var _console;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[0] === 'string') args[0] = \"react-i18next:: \".concat(args[0]);\n\n    (_console = console).warn.apply(_console, args);\n  }\n}\nvar alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn.apply(void 0, args);\n}\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, function () {\n    if (i18n.isInitialized) {\n      cb();\n    } else {\n      var initialized = function initialized() {\n        setTimeout(function () {\n          i18n.off('initialized', initialized);\n        }, 0);\n        cb();\n      };\n\n      i18n.on('initialized', initialized);\n    }\n  });\n}\n\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var lng = i18n.languages[0];\n  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  var lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n\n  var loadNotPending = function loadNotPending(l, n) {\n    var loadState = i18n.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n    return loadState === -1 || loadState === 2;\n  };\n\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\n\nexport function hasLoadedNamespace(ns, i18n) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n\n  var isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n\n  return i18n.hasLoadedNamespace(ns, {\n    precheck: function precheck(i18nInstance, loadNotPending) {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"forwardedRef\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { createElement, forwardRef as forwardRefReact } from 'react';\nimport { useTranslation } from './useTranslation';\nimport { getDisplayName } from './utils';\nexport function withTranslation(ns) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      var forwardedRef = _ref.forwardedRef,\n          rest = _objectWithoutProperties(_ref, _excluded);\n\n      var _useTranslation = useTranslation(ns, _objectSpread(_objectSpread({}, rest), {}, {\n        keyPrefix: options.keyPrefix\n      })),\n          _useTranslation2 = _slicedToArray(_useTranslation, 3),\n          t = _useTranslation2[0],\n          i18n = _useTranslation2[1],\n          ready = _useTranslation2[2];\n\n      var passDownProps = _objectSpread(_objectSpread({}, rest), {}, {\n        t: t,\n        i18n: i18n,\n        tReady: ready\n      });\n\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n\n      return createElement(WrappedComponent, passDownProps);\n    }\n\n    I18nextWithTranslation.displayName = \"withI18nextTranslation(\".concat(getDisplayName(WrappedComponent), \")\");\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n\n    var forwardRef = function forwardRef(props, ref) {\n      return createElement(I18nextWithTranslation, Object.assign({}, props, {\n        forwardedRef: ref\n      }));\n    };\n\n    return options.withRef ? forwardRefReact(forwardRef) : I18nextWithTranslation;\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport default function asError(action) {\n  if (_typeof(action) === 'object' && action !== null) {\n    action.error = true;\n  }\n\n  return action;\n}\n;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nexport default function assignAll(actions, stores) {\n  if (Array.isArray(actions)) {\n    return actions.map(function (action) {\n      return action.assignTo(stores);\n    });\n  }\n\n  return Object.keys(actions).reduce(function (assigns, action) {\n    return _extends(assigns, _defineProperty({}, action, actions[action].assignTo(stores)));\n  }, {});\n}\n;","import createAction from './createAction';\nexport default createAction('Batch', function () {\n  for (var _len = arguments.length, actions = new Array(_len), _key = 0; _key < _len; _key++) {\n    actions[_key] = arguments[_key];\n  }\n\n  if (actions.length === 1 && Array.isArray(actions[0])) {\n    return actions[0];\n  }\n\n  return actions;\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nexport default function bindAll(actions, stores) {\n  if (Array.isArray(actions)) {\n    return actions.map(function (action) {\n      return action.bindTo(stores);\n    });\n  }\n\n  return Object.keys(actions).reduce(function (binds, action) {\n    return _extends(binds, _defineProperty({}, action, actions[action].bindTo(stores)));\n  }, {});\n}\n;","import { add, check } from './types';\nvar id = 0;\n\nvar identity = function identity(arg) {\n  return arg;\n};\n\nvar normalize = function normalize(dispatchOrStore) {\n  if (dispatchOrStore && typeof dispatchOrStore.dispatch === 'function') {\n    return dispatchOrStore.dispatch;\n  } else {\n    return dispatchOrStore;\n  }\n};\n\nvar normalizeAll = function normalizeAll(dispatchOrStores) {\n  if (Array.isArray(dispatchOrStores)) {\n    return dispatchOrStores.map(normalize);\n  } else {\n    return normalize(dispatchOrStores);\n  }\n};\n\nexport default function createAction(description, payloadReducer, metaReducer) {\n  if (typeof description === 'function') {\n    metaReducer = payloadReducer;\n    payloadReducer = description;\n    description = undefined;\n  }\n\n  if (typeof payloadReducer !== 'function') {\n    payloadReducer = identity;\n  }\n\n  if (typeof metaReducer !== 'function') {\n    metaReducer = undefined;\n  }\n\n  var isSerializable = typeof description === 'string' && /^[0-9A-Z_]+$/.test(description);\n\n  if (isSerializable) {\n    check(description);\n    add(description);\n  } else {\n    ++id;\n  }\n\n  var type = isSerializable ? description : \"[\".concat(id, \"]\").concat(description ? ' ' + description : '');\n  var dispatchFunctions = undefined;\n\n  function makeAction() {\n    var payload = payloadReducer.apply(void 0, arguments);\n\n    if (metaReducer) {\n      return {\n        type: type,\n        payload: payload,\n        error: payload instanceof Error,\n        meta: metaReducer.apply(void 0, arguments)\n      };\n    }\n\n    return {\n      type: type,\n      payload: payload,\n      error: payload instanceof Error\n    };\n  }\n\n  var makeAndDispatch = function makeAndDispatch(dispatchs, isError) {\n    return function () {\n      var payloadedAction = makeAction.apply(void 0, arguments);\n\n      if (!payloadedAction.error) {\n        payloadedAction.error = isError;\n      }\n\n      if (Array.isArray(dispatchs)) {\n        return dispatchs.map(function (dispatch) {\n          return dispatch(payloadedAction);\n        });\n      } else if (dispatchs) {\n        return dispatchs(payloadedAction);\n      } else {\n        return payloadedAction;\n      }\n    };\n  };\n\n  function actionCreator() {\n    return makeAndDispatch(dispatchFunctions, false).apply(void 0, arguments);\n  }\n\n  actionCreator.asError = function () {\n    return makeAndDispatch(dispatchFunctions, true).apply(void 0, arguments);\n  };\n\n  actionCreator.getType = function () {\n    return type;\n  };\n\n  actionCreator.toString = function () {\n    return type;\n  };\n\n  actionCreator.raw = makeAction;\n\n  actionCreator.assignTo = function (dispatchOrStores) {\n    dispatchFunctions = normalizeAll(dispatchOrStores);\n    return actionCreator;\n  };\n\n  actionCreator.assigned = function () {\n    return !!dispatchFunctions;\n  };\n\n  actionCreator.bound = function () {\n    return false;\n  };\n\n  actionCreator.dispatched = actionCreator.assigned;\n\n  actionCreator.bindTo = function (dispatchOrStores) {\n    var boundActionCreator = makeAndDispatch(normalizeAll(dispatchOrStores, false));\n    boundActionCreator.asError = makeAndDispatch(normalizeAll(dispatchOrStores, true));\n    boundActionCreator.raw = makeAction;\n    boundActionCreator.getType = actionCreator.getType;\n    boundActionCreator.toString = actionCreator.toString;\n\n    boundActionCreator.assignTo = function () {\n      return boundActionCreator;\n    };\n\n    boundActionCreator.bindTo = function () {\n      return boundActionCreator;\n    };\n\n    boundActionCreator.assigned = function () {\n      return false;\n    };\n\n    boundActionCreator.bound = function () {\n      return true;\n    };\n\n    boundActionCreator.dispatched = boundActionCreator.bound;\n    return boundActionCreator;\n  };\n\n  return actionCreator;\n}\n;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport batch from './batch';\n\nfunction normalizeType(typeOrActionCreator) {\n  if (typeOrActionCreator && typeOrActionCreator.getType) {\n    return typeOrActionCreator.toString();\n  }\n\n  return typeOrActionCreator;\n}\n\nexport default function createReducer() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaultState = arguments.length > 1 ? arguments[1] : undefined;\n  var opts = {\n    payload: true,\n    fallback: null\n  };\n\n  var reducer = _extends(reduce, {\n    has: has,\n    on: on,\n    off: off,\n    options: options\n  });\n\n  function has(typeOrActionCreator) {\n    return !!handlers[normalizeType(typeOrActionCreator)];\n  }\n\n  function on(typeOrActionCreator, handler) {\n    if (Array.isArray(typeOrActionCreator)) {\n      typeOrActionCreator.forEach(function (action) {\n        on(action, handler);\n      });\n    } else {\n      handlers[normalizeType(typeOrActionCreator)] = handler;\n    }\n\n    return reducer;\n  }\n\n  function off(typeOrActionCreator) {\n    if (Array.isArray(typeOrActionCreator)) {\n      typeOrActionCreator.forEach(off);\n    } else {\n      delete handlers[normalizeType(typeOrActionCreator)];\n    }\n\n    return reducer;\n  }\n\n  function options(newOpts) {\n    Object.keys(newOpts).forEach(function (name) {\n      return opts[name] = newOpts[name];\n    });\n    return reducer;\n  }\n\n  if (typeof handlers === 'function') {\n    var factory = handlers;\n    handlers = {};\n    factory(on, off);\n  }\n\n  if (!has(batch)) {\n    on(batch, function (state, payload) {\n      if (opts.payload) {\n        return payload.reduce(reduce, state);\n      } else {\n        return payload.payload.reduce(reduce, state);\n      }\n    });\n  }\n\n  function reduce() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    if (!action || typeof action.type !== 'string') {\n      return state;\n    }\n\n    if (action.type.startsWith('@@redux/')) {\n      return state;\n    }\n\n    var handler = handlers[action.type] || opts.fallback;\n\n    if (handler) {\n      if (opts.payload) {\n        return handler(state, action.payload, action.meta);\n      } else {\n        return handler(state, action);\n      }\n    }\n\n    return state;\n  }\n\n  ;\n  return reducer;\n}\n;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport batch from './batch';\nexport default function disbatch(store) {\n  for (var _len = arguments.length, actions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    actions[_key - 1] = arguments[_key];\n  }\n\n  if (actions && actions.length > 0) {\n    if (!store || typeof store !== 'function' && typeof store.dispatch !== 'function') {\n      throw new TypeError('disbatch must take either a valid Redux store or a dispatch function as first parameter');\n    }\n\n    if (typeof store.dispatch === 'function') {\n      store = store.dispatch;\n    } // store is actually the dispatch function here\n\n\n    return store(batch.apply(void 0, actions));\n  } else {\n    if (!store || typeof store.dispatch !== 'function') {\n      throw new TypeError('disbatch must take a valid Redux store with a dispatch function as first parameter');\n    }\n\n    return _extends(store, {\n      disbatch: disbatch.bind(undefined, store)\n    });\n  }\n}","import * as _types from './types';\nexport { default as createAction } from './createAction';\nexport { default as createReducer } from './createReducer';\nexport { default as assignAll } from './assignAll';\nexport { default as bindAll } from './bindAll';\nexport { default as batch } from './batch';\nexport { default as disbatch } from './disbatch';\nexport { default as loggers } from './loggers';\nexport { default as asError } from './asError';\nexport var types = _types;","import * as reduxLogger from './reduxLogger';\nexport default {\n  reduxLogger: reduxLogger\n};","import batch from '../batch';\nvar batchType = batch.getType();\nexport function actionTransformer(action) {\n  if (action && action.type === batchType) {\n    action.payload.type = batchType;\n    return action.payload;\n  }\n\n  return action;\n}\nexport var logger = {};\n\nvar _loop = function _loop(level) {\n  if (typeof console[level] === 'function') {\n    logger[level] = function levelFn() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var lastArg = args.pop();\n\n      if (Array.isArray(lastArg) && lastArg.type === batchType) {\n        lastArg.forEach(function (action) {\n          console[level].apply(console, [].concat(args, [action]));\n        });\n      } else {\n        args.push(lastArg);\n        console[level].apply(console, args);\n      }\n    };\n  }\n};\n\nfor (var level in console) {\n  _loop(level);\n}","var types = {};\nvar config = {\n  checkExisting: true\n};\nexport function add(name) {\n  types[name] = true;\n}\nexport function remove(name) {\n  types[name] = false;\n}\nexport function has(name) {\n  return !!types[name];\n}\nexport function check(name) {\n  if (config.checkExisting && has(name)) {\n    throw new TypeError(\"Duplicate action type: \".concat(name));\n  }\n}\nexport function all() {\n  return Object.keys(types).filter(has);\n}\nexport function clear() {\n  all().forEach(remove);\n}\nexport function enableChecking() {\n  config.checkExisting = true;\n}\nexport function disableChecking() {\n  config.checkExisting = false;\n}","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-redux\");","module.exports = require(\"vortex-api\");","module.exports = require(\"path\");","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\nvar nonIterableRest = require(\"./nonIterableRest.js\");\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as ops from './operations';\r\nimport settingsReducer from './reducers';\r\nimport SettingsTheme from './SettingsTheme';\r\nimport { getAvailableFonts, themesPath } from './util';\r\n\r\nimport * as path from 'path';\r\nimport { fs, log, types, util } from 'vortex-api';\r\n\r\nfunction applyTheme(api: types.IExtensionApi, theme: string, initial: boolean) {\r\n  if (!initial) {\r\n    api.clearStylesheet();\r\n  }\r\n\r\n  if (theme === null) {\r\n    api.setStylesheet('variables', undefined);\r\n    api.setStylesheet('fonts', undefined);\r\n    api.setStylesheet('style', undefined);\r\n    return;\r\n  }\r\n\r\n  return util.readExtensibleDir('theme', path.join(__dirname, 'themes'), themesPath())\r\n    .then(themes => {\r\n      const selected = themes.find(iter => path.basename(iter) === theme);\r\n      if (selected === undefined) {\r\n        return Promise.resolve();\r\n      }\r\n\r\n      return fs.statAsync(path.join(selected, 'variables.css'))\r\n        .then(() => api.setStylesheet('variables', path.join(selected, 'variables.css')))\r\n        .catch(() => api.setStylesheet('variables', undefined))\r\n        .then(() => fs.statAsync(path.join(selected, 'details.css')))\r\n        .then(() => api.setStylesheet('details', path.join(selected, 'details.css')))\r\n        .catch(() => api.setStylesheet('details', undefined))\r\n        .then(() => fs.statAsync(path.join(selected, 'fonts.css')))\r\n        .then(() => api.setStylesheet('fonts', path.join(selected, 'fonts.css')))\r\n        .catch(() => api.setStylesheet('fonts', undefined))\r\n        .then(() => fs.statAsync(path.join(selected, 'style.css')))\r\n        .then(() => api.setStylesheet('style', path.join(selected, 'style.css')))\r\n        .catch(() => api.setStylesheet('style', undefined));\r\n    });\r\n}\r\n\r\nfunction editStyle(api: types.IExtensionApi, themeName: string): Promise<void> {\r\n  const stylePath = path.join(ops.themePath(themeName), 'style.scss');\r\n  return fs.ensureFileAsync(stylePath)\r\n    .then(() =>\r\n      util.opn(stylePath)\r\n        .catch(util.MissingInterpreter, (err) => {\r\n          api.showDialog('error', 'No handler found', {\r\n            text: 'You don\\'t have an editor associated with scss files. '\r\n              + 'You can fix this by opening the following file from your file explorer, '\r\n              + 'pick your favorite text editor and when prompted, choose to always open '\r\n              + 'that file type with that editor.',\r\n            message: err.url,\r\n          }, [\r\n            { label: 'Close' },\r\n          ]);\r\n        })\r\n        .catch(err => {\r\n          log('error', 'failed to open', err);\r\n        }));\r\n}\r\n\r\nfunction init(context: types.IExtensionContext) {\r\n  context.registerReducer(['settings', 'interface'], settingsReducer);\r\n\r\n  const onCloneTheme = (themeName: string, newName: string) =>\r\n    ops.cloneTheme(context.api, themeName, newName);\r\n  const onSelectTheme = (theme: string) => ops.selectTheme(context.api, theme);\r\n  const saveTheme = (themeName: string, variables: { [name: string]: string }) =>\r\n    ops.saveTheme(context.api, themeName, variables);\r\n  const removeTheme = (themeName: string) => ops.removeTheme(context.api, themeName);\r\n  const onEditStyle = (themeName: string) => editStyle(context.api, themeName);\r\n\r\n  context.registerSettings('Theme', SettingsTheme, () => ({\r\n    readThemes: ops.readThemes,\r\n    onCloneTheme,\r\n    onSelectTheme,\r\n    readThemeVariables: ops.readThemeVariables,\r\n    onSaveTheme: saveTheme,\r\n    onRemoveTheme: removeTheme,\r\n    locationToName: ops.themeName,\r\n    nameToLocation: ops.themePath,\r\n    isThemeCustom: ops.isThemeCustom,\r\n    onEditStyle,\r\n    getAvailableFonts,\r\n  }));\r\n\r\n  context.once(() => {\r\n    const store = context.api.store;\r\n\r\n    context.api.events.on('select-theme', (selectedThemePath: string) => {\r\n      applyTheme(context.api, selectedThemePath, false);\r\n    });\r\n\r\n    return applyTheme(context.api, store.getState().settings.interface.currentTheme, true);\r\n  });\r\n\r\n  return true;\r\n}\r\n\r\nexport default init;\r\n"],"names":["e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_typeof","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_defineProperty","_toPrimitive","toPrimitive","String","Number","ThemeEditor","React","Alert","Button","ControlLabel","FormControl","FormGroup","InputGroup","withTranslation","connect","actions","ComponentEx","log","tooltip","util","SettingsTheme","_ComponentEx","props","_this","currentTheme","onSelectTheme","variables","_this$props","onSaveTheme","cloneTheme","themes","_this$props2","onShowDialog","isCustom","Error","text","replace","theme","label","action","onRemoveTheme","evt","context","api","events","emit","currentTarget","themeName","isThemeCustom","initState","availableFonts","editable","UNSAFE_componentWillMount","nextState","Array","from","Set","updateVariables","UNSAFE_componentWillReceiveProps","newProps","render","_this2","_this$props3","_this$state","state","createElement","style","position","controlId","width","componentClass","onChange","selectTheme","map","iter","locationToName","renderTheme","bsStyle","onClick","onClone","remove","onApply","saveTheme","disabled","onEditStyle","getAvailableFonts","IconButton","top","right","className","icon","refresh","name","_updateVariables","_callee","_context","readThemeVariables","_x","error","_this3","_this$props4","onCloneTheme","existing","toUpperCase","bbcode","undefined","concat","input","id","placeholder","condition","content","_content$input$","_content$input","res","_ref","has","push","errorText","isFilenameValid","err","ArgumentInvalid","message","onShowError","mapStateToProps","settings","mapDispatchToProps","dispatch","title","details","showError","type","dialogActions","showDialog","SettingsThemeWrapper","_React$useState","useState","_React$useState2","_slicedToArray","setThemes","useEffect","_callee2","result","_context2","readThemes","_extends","Col","Form","Grid","Panel","Row","More","Toggle","toHex","num","toString","colorToHex","color","g","b","colorFromHex","colorHex","parts","substr","match","parseInt","renderColorBox","height","display","border","marginLeft","backgroundColor","ColorPreview","_React$Component","_len","args","_key","event","onUpdateColor","target","alignItems","gap","onUpdate","cursor","Component","colorDefaults","defaultTheme","colors","fontSize","fontFamily","fontFamilyHeadings","hidpiScale","margin","dashletHeight","titlebarRows","dark","standardFonts","fonts","entry","sm","md","lg","marginRight","updateColor","_this2$props","setColors","setFontSize","setHiDPIScale","setFontFamily","setFontFamilyHeadings","setMargin","setDark","setTitlebarRows","includes","_objectSpread","grayNames","grayColors","reverse","forEach","idx","newValue","componentDidMount","setDashletHeight","slice","buckets","reduce","prev","BUCKETS","horizontal","min","max","onChangeFontSize","onChangeMargin","onChangeFontFamily","renderFontOption","readFont","smOffset","Static","onChangeFontFamilyHeadings","textTransform","step","onChangeDashletHeight","onChangeTitlebarRows","bucket","renderEntry","checked","onToggle","onChangeDark","editManually","revert","_this4","find","createAction","path","fs","themesPath","bundledPath","join","__dirname","readExtensibleDir","tap","extThemes","location","basename","themePath","saveThemeInternal","outputPath","keys","writeFileAsync","translate","showErrorNotification","allowReport","code","store","newName","findIndex","targetPath","sourcePath","reject","ensureDirAsync","readdirAsync","files","copyAsync","currentThemePath","readFileAsync","data","split","line","_line$split","_line$split2","trim","removeTheme","filter","removeAsync","themeFilePath","isChildPath","getDefaultTheme","process","platform","settingsReducer","reducers","payload","setSafe","defaults","getVortexPath","DEFAULT_FONTS","getAvailableFontImpl","fontScanner","require","_toConsumableArray","font","family","sort","makeRemoteCall","ops","applyTheme","initial","clearStylesheet","setStylesheet","selected","statAsync","editStyle","stylePath","ensureFileAsync","opn","MissingInterpreter","url","init","registerReducer","registerSettings","nameToLocation","once","on","selectedThemePath","getState"],"sourceRoot":""}