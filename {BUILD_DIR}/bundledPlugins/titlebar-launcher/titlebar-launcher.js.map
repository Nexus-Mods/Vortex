{"version":3,"file":"index.js","mappings":"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","sources":["webpack://titlebar-launcher/./node_modules/memoize-one/dist/memoize-one.esm.js","webpack://titlebar-launcher/./src/TitlebarToggle.tsx","webpack://titlebar-launcher/./src/ToolStarter.tsx","webpack://titlebar-launcher/./src/actions.ts","webpack://titlebar-launcher/./src/index.tsx","webpack://titlebar-launcher/./src/reducers.ts","webpack://titlebar-launcher/./src/util.ts","webpack://titlebar-launcher/external commonjs2 \"path\"","webpack://titlebar-launcher/external commonjs2 \"react\"","webpack://titlebar-launcher/external commonjs2 \"react-i18next\"","webpack://titlebar-launcher/external commonjs2 \"react-redux\"","webpack://titlebar-launcher/external commonjs2 \"redux-act\"","webpack://titlebar-launcher/external commonjs2 \"vortex-api\"","webpack://titlebar-launcher/webpack/bootstrap","webpack://titlebar-launcher/webpack/runtime/define property getters","webpack://titlebar-launcher/webpack/runtime/hasOwnProperty shorthand","webpack://titlebar-launcher/webpack/runtime/make namespace object","webpack://titlebar-launcher/webpack/before-startup","webpack://titlebar-launcher/webpack/startup","webpack://titlebar-launcher/webpack/after-startup"],"sourcesContent":["var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { MainContext, selectors, Toggle, types, util } from 'vortex-api'\n\nimport { setAddToTitleBar } from './actions';\n\ninterface IConnectedProps {\n  addToTitleBar: boolean;\n  game: types.IGameStored;\n  primaryTool: string;\n  toolsOrder: string[];\n  discovery: types.IDiscoveryResult;\n  discoveredTools: { [id: string]: types.IDiscoveredTool };\n  mods: { [modId: string]: types.IMod };\n}\n\ninterface IProps {\n  onGetValidStarters: (game: types.IGameStored,\n                       discovery: types.IDiscoveryResult,\n                       tools: types.IDiscoveredTool[]) => Promise<string[]>;\n}\n\nexport default function TitlebarToggle(props: IProps) {\n  const [t] = useTranslation();\n  const { onGetValidStarters } = props;\n  const context = React.useContext(MainContext);\n  const { game, addToTitleBar, discoveredTools, mods,\n    toolsOrder, discovery, primaryTool } = useSelector(mapStateToProps);\n  const onToggle = React.useCallback(() => {\n    context.api.store.dispatch(setAddToTitleBar(!addToTitleBar));\n    if (!addToTitleBar === true) {\n      context.api.events.emit('analytics-track-click-event', 'Tools', 'Added to Titlebar');\n    }\n  }, [addToTitleBar]);\n  const [valid, setValid] = React.useState(false);\n  React.useEffect(() => {\n    const isValid = async () => {\n      const hasValidTools = await (await onGetValidStarters(game, discovery, Object.values(discoveredTools) || [])).length > 0;\n      setValid(hasValidTools);\n    }\n    isValid();\n  }, [primaryTool, discoveredTools, toolsOrder, discovery, mods]);\n  if (!game) {\n    return null;\n  }\n  return (\n    <div id='titlebar-tools-toggle-container'>\n      <p className='titlebar-tools-toggle-text'>{t('Enable toolbar')}</p>\n      <Toggle\n        disabled={!valid}\n        className='titlebar-tools-toggle'\n        checked={addToTitleBar}\n        onToggle={onToggle}\n      />\n    </div>\n  )\n}\n\nconst emptyObj = {};\nfunction mapStateToProps(state: types.IState): IConnectedProps {\n  const game: types.IGameStored = selectors.currentGame(state);\n  const discovery: types.IDiscoveryResult = selectors.currentGameDiscovery(state);\n\n  if (game?.id === undefined || discovery?.path === undefined) {\n    return {\n      game: undefined,\n      addToTitleBar: false,\n      discoveredTools: emptyObj,\n      discovery: emptyObj,\n      primaryTool: undefined,\n      toolsOrder: [],\n      mods: emptyObj,\n    };\n  }\n\n  return {\n    toolsOrder: util.getSafe(state,\n      ['settings', 'interface', 'tools', 'order', game.id], []),\n    addToTitleBar: util.getSafe(state,\n      ['settings', 'interface', 'tools', 'addToolsToTitleBar'], false),\n    game,\n    primaryTool: util.getSafe(state, ['settings', 'interface', 'primaryTool', game.id], undefined),\n    discovery,\n    discoveredTools: util.getSafe(state, ['settings', 'gameMode', 'discovered', game.id, 'tools'], emptyObj),\n    mods: util.getSafe(state, ['persistent', 'mods', game.id], emptyObj),\n  };\n}\n","import * as path from 'path';\nimport * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { fs, selectors, Spinner, ToolIcon, types, util } from 'vortex-api';\n\n// tslint:disable-next-line:no-var-requires\nconst { MainContext } = require('vortex-api');\n\ninterface IConnectedProps {\n  addToTitleBar: boolean;\n  toolsOrder: types.IStarterInfo[];\n  game: types.IGameStored;\n  discovery: types.IDiscoveryResult;\n  discoveredTools: { [id: string]: types.IDiscoveredTool };\n  primaryTool: string;\n  toolsRunning: { [exeId: string]: types.IRunningTool };\n  mods: { [modId: string]: types.IMod };\n}\n\ninterface IToolStarterProps {\n  onGetStarters: (game: types.IGameStored,\n    discovery: types.IDiscoveryResult,\n    tools: types.IDiscoveredTool[]) => types.IStarterInfo[];\n  onGetValidStarters: (game: types.IGameStored,\n    discovery: types.IDiscoveryResult,\n    tools: types.IDiscoveredTool[]) => Promise<string[]>;\n}\n\ninterface IToolStarterIconProps {\n  tool: types.IStarterInfo;\n  running: boolean;\n  iconLocation: string;\n  valid: boolean;\n}\n\nfunction toolIconRW(gameId: string, toolId: string) {\n  return path.join((util as any).getVortexPath('userData'), gameId, 'icons', toolId + '.png');\n}\n\nasync function toolIcon(gameId: string, extensionPath: string,\n                        toolId: string, toolLogo: string): Promise<string> {\n  try {\n    const iconPath = toolIconRW(gameId, toolId);\n    await fs.statAsync(iconPath);\n    return iconPath;\n  } catch (err) {\n    if (toolLogo === undefined) {\n      return undefined;\n    }\n    try {\n      const iconPath = path.join(extensionPath, toolLogo);\n      await fs.statAsync(iconPath);\n      return iconPath;\n    } catch (err) {\n      return undefined;\n    }\n  }\n}\n\nfunction ToolStarterIcon(props: IToolStarterIconProps) {\n  const { valid } = props;\n  const { api }: { api: types.IExtensionApi } = React.useContext(MainContext);\n  const { primaryTool } = useSelector(mapStateToProps);\n\n  const onShowError = React.useCallback((message: string, details: any, allowReport: boolean) => {\n    api.showErrorNotification(message, details, { allowReport });\n  }, [api]);\n\n  const startCB = React.useCallback(() => {\n    api.events.emit('analytics-track-click-event', 'Tools', 'Manually ran tool');\n    util.StarterInfo.run(props.tool as any, api, onShowError);\n  }, [props]);\n\n  return valid ? (\n    <ToolIcon\n      classes={['fade-in']}\n      t={api.translate}\n      valid={true}\n      item={props.tool}\n      isPrimary={props.tool.id === primaryTool}\n      imageUrl={props.iconLocation}\n      onRun={startCB}\n    >\n      {props.running ? <Spinner className='running-overlay' /> : null}\n    </ToolIcon>\n  ) : null;\n}\n\nfunction makeExeId(exePath: string): string {\n  return path.basename(exePath).toLowerCase();\n}\n\nfunction ToolStarter(props: IToolStarterProps) {\n  const { onGetStarters, onGetValidStarters } = props;\n  const { addToTitleBar, discovery, game, discoveredTools, mods,\n          toolsRunning, toolsOrder, primaryTool } = useSelector(mapStateToProps);\n\n  const [toolImages, setToolImages] = React.useState({});\n  const [validStarters, setValidStarters] = React.useState([]);\n  const starters = onGetStarters(game, discovery, Object.values(discoveredTools) || []);\n  const idxOfTool = (tool) => {\n    const idx = toolsOrder.findIndex(id => tool.id === id);\n    return idx !== -1 ? idx : starters.length;\n  };\n  starters.sort((lhs, rhs) => idxOfTool(lhs) - idxOfTool(rhs));\n  React.useEffect(() => {\n    const hasValidTools = async () => {\n      const starters = await onGetValidStarters(game, discovery, Object.values(discoveredTools));\n      setValidStarters(starters);\n    }\n    const getImagePath = async () => {\n      const imageMap = {};\n      for (const starter of starters) {\n        imageMap[starter.id] = await toolIcon(game.id, game.extensionPath,\n                                              starter.id, starter.logoName);\n      }\n      setToolImages(imageMap);\n      hasValidTools();\n    };\n    getImagePath();\n  }, [primaryTool, discoveredTools, toolsOrder, discovery, mods]);\n  if (!game || !discovery || !addToTitleBar || validStarters.length === 0) {\n    return null;\n  }\n  return (\n    <div id='titlebar-starter'>\n      {starters.map((starter, idx) => {\n        const running = (starter.exePath !== undefined)\n          && (toolsRunning[makeExeId(starter.exePath)] !== undefined);\n\n        return (\n          <ToolStarterIcon\n            valid={validStarters.includes(starter.id)}\n            running={running}\n            key={idx}\n            tool={starter}\n            iconLocation={toolImages[starter.id]}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nconst emptyObj = {};\n\nfunction mapStateToProps(state: types.IState): IConnectedProps {\n  const game: types.IGameStored = selectors.currentGame(state);\n  const discovery: types.IDiscoveryResult = selectors.currentGameDiscovery(state);\n\n  if (!game?.id || !discovery?.path) {\n    return {\n      addToTitleBar: false,\n      toolsOrder: [],\n      game: undefined,\n      discovery: undefined,\n      discoveredTools: emptyObj,\n      primaryTool: undefined,\n      toolsRunning: emptyObj,\n      mods: emptyObj,\n    };\n  }\n  return {\n    addToTitleBar: util.getSafe(state,\n      ['settings', 'interface', 'tools', 'addToolsToTitleBar'], false),\n    toolsOrder: util.getSafe(state,\n      ['settings', 'interface', 'tools', 'order', game.id], []),\n    game,\n    discovery,\n    discoveredTools: game !== undefined\n      ? util.getSafe(state, ['settings', 'gameMode', 'discovered', game.id, 'tools'], emptyObj)\n      : undefined,\n    primaryTool: game !== undefined\n      ? util.getSafe(state, ['settings', 'interface', 'primaryTool', game.id], undefined)\n      : undefined,\n    toolsRunning: state.session.base.toolsRunning,\n    mods: game !== undefined\n    ? util.getSafe(state, ['persistent', 'mods', game.id], emptyObj)\n    : emptyObj,\n  };\n}\n\nexport default ToolStarter;\n","import { createAction } from 'redux-act';\n\nexport const setAddToTitleBar = createAction('SET_ADD_TO_TITLEBAR',\n  (addToTitleBar: boolean) => ({ addToTitleBar }));\n","import memoize from 'memoize-one';\nimport * as path from 'path';\nimport * as React from 'react';\nimport { fs, selectors, types, util } from 'vortex-api';\n\nimport settingsReducer from './reducers';\n\nimport ToolStarter from './ToolStarter';\nimport TitleBarToggle from './TitlebarToggle';\n\nimport { starterMemoizer } from './util';\n\nconst toStarters = memoize(starterMemoizer);\nconst getValidStarters = memoize(ValidStarters);\nasync function ValidStarters(game: types.IGameStored,\n                             discovery: types.IDiscoveryResult,\n                             tools: types.IDiscoveredTool[]): Promise<string[]> {\n  const starters = toStarters(game, discovery, tools);\n  const validStarters: string[] = [];\n  for (const starter of starters) {\n    if (starter?.exePath === undefined) {\n      // catch block below could catch this, but why waste time.\n      continue;\n    }\n    try {\n      const exePath = path.isAbsolute(starter.exePath)\n        ? starter.exePath : path.join(discovery.path, starter.exePath);\n      await fs.statAsync(exePath);\n      validStarters.push(starter.id);\n    } catch (err) {\n      // nop\n    }\n  }\n  return validStarters;\n}\n\nfunction init(context: types.IExtensionContext) {\n  context.registerReducer(['settings', 'interface'], settingsReducer);\n  (context as any).registerDynDiv('main-toolbar', ToolStarter, {\n    condition: (props: any): boolean => {\n      return selectors.activeGameId(context.api.store.getState()) !== undefined;\n    },\n    props: {\n      onGetStarters: (game: types.IGameStored,\n        discovery: types.IDiscoveryResult,\n        tools: types.IDiscoveredTool[]) => toStarters(game, discovery, tools),\n      onGetValidStarters: (game: types.IGameStored,\n        discovery: types.IDiscoveryResult,\n        tools: types.IDiscoveredTool[]) => getValidStarters(game, discovery, tools)\n    }\n  });\n\n  (context as any).registerDynDiv('starter-dashlet-tools-controls', TitleBarToggle, {\n    condition: (props: any): boolean => {\n      return selectors.activeGameId(context.api.store.getState()) !== undefined;\n    },\n    props: {\n      onGetValidStarters: (game: types.IGameStored,\n                           discovery: types.IDiscoveryResult,\n                           tools: types.IDiscoveredTool[]) => getValidStarters(game, discovery, tools)\n    }\n  });\n\n  context.once(() => {\n    context.api.setStylesheet('titlebar-launcher', path.join(__dirname, 'titlebar-launcher.scss'));\n  });\n\n  return true;\n}\n\nexport default init;\n","import { types, util } from 'vortex-api';\nimport * as actions from './actions';\n\nconst reducer: types.IReducerSpec = {\n  reducers: {\n    [actions.setAddToTitleBar as any]: (state, payload) => {\n      const { addToTitleBar } = payload;\n      return util.setSafe(state, ['tools', 'addToolsToTitleBar'], addToTitleBar);\n    },\n  },\n  defaults: {},\n};\n\nexport default reducer;\n","import { types, util } from 'vortex-api';\n\nexport function toStarterInfo(game: types.IGameStored,\n                       gameDiscovery: types.IDiscoveryResult,\n                       tool: types.IToolStored,\n                       toolDiscovery: types.IDiscoveredTool): types.IStarterInfo {\n  return new util.StarterInfo(game, gameDiscovery, tool, toolDiscovery);\n}\n\nexport function starterMemoizer(game: types.IGameStored,\n                                discovery: types.IDiscoveryResult,\n                                tools: types.IDiscoveredTool[]): types.IStarterInfo[] {\n  const result = tools.filter(tool => tool.id !== undefined)\n    .map(toolDiscovery => {\n      if (toolDiscovery.hidden) {\n        return undefined;\n      }\n\n      const tool = game.supportedTools.find(iter => iter.id === toolDiscovery.id);\n      try {\n        return toStarterInfo(game, discovery, tool, toolDiscovery);\n      } catch (err) {\n        // not the job of this extension to report this\n        return undefined;\n      }\n    })\n    .filter(iter => iter !== undefined);\n    return result as types.IStarterInfo[];\n}\n","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-i18next\");","module.exports = require(\"react-redux\");","module.exports = require(\"redux-act\");","module.exports = require(\"vortex-api\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.tsx\");\n",""],"names":[],"sourceRoot":""}