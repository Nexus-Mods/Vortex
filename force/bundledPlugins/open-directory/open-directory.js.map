{"version":3,"file":"index.js","mappings":"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","sources":["webpack://open-directory/./src/gameSupport.ts","webpack://open-directory/./src/index.ts","webpack://open-directory/external commonjs2 \"bluebird\"","webpack://open-directory/external commonjs2 \"path\"","webpack://open-directory/external commonjs2 \"vortex-api\"","webpack://open-directory/webpack/bootstrap","webpack://open-directory/webpack/before-startup","webpack://open-directory/webpack/startup","webpack://open-directory/webpack/after-startup"],"sourcesContent":["import * as path from 'path';\nimport * as Redux from 'redux';\nimport { selectors, types, util } from 'vortex-api';\n\ninterface IGameSupport {\n  settingsPath?: () => string;\n  appDataPath?: () => string;\n}\n\nconst localAppData: () => string = (() => {\n  let cached: string;\n  return () => {\n    if (cached === undefined) {\n      cached = process.env.LOCALAPPDATA\n        || path.resolve(util.getVortexPath('appData'), '..', 'Local');\n    }\n    return cached;\n  };\n})();\n\nconst gameSupport = util.makeOverlayableDictionary<string, IGameSupport>({\n  fallout3: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Fallout3'),\n    appDataPath: () => path.join(localAppData(), 'Fallout3'),\n  },\n  falloutnv: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'FalloutNV'),\n    appDataPath: () => path.join(localAppData(), 'FalloutNV'),\n  },\n  fallout4: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Fallout4'),\n    appDataPath: () => path.join(localAppData(), 'Fallout4'),\n  },\n  fallout4vr: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Fallout4VR'),\n    appDataPath: () => path.join(localAppData(), 'Fallout4VR'),\n  },\n  starfield: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Starfield'),\n    appDataPath: () => path.join(localAppData(), 'Starfield'),\n  },\n  oblivion: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Oblivion'),\n    appDataPath: () => path.join(localAppData(), 'Oblivion'),\n  },\n  skyrim: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Skyrim'),\n    appDataPath: () => path.join(localAppData(), 'Skyrim'),\n  },\n  skyrimse: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Skyrim Special Edition'),\n    appDataPath: () => path.join(localAppData(), 'Skyrim Special Edition'),\n  },\n  skyrimvr: {\n    settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'SkyrimVR'),\n    appDataPath: () => path.join(localAppData(), 'SkyrimVR'),\n  },\n}, {\n  xbox: {\n    skyrimse: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Skyrim Special Edition MS'),\n      appDataPath: () => path.join(localAppData(), 'Skyrim Special Edition MS'),\n    },\n    fallout4: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Fallout4 MS'),\n      appDataPath: () => path.join(localAppData(), 'Fallout4 MS'),\n    },\n  },\n  gog: {\n    skyrimse: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Skyrim Special Edition GOG'),\n      appDataPath: () => path.join(localAppData(), 'Skyrim Special Edition GOG'),\n    },\n    enderalspecialedition: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Enderal Special Edition GOG'),\n      appDataPath: () => path.join(localAppData(), 'Enderal Special Edition GOG'),\n    },\n  },\n  epic: {\n    skyrimse: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Skyrim Special Edition EPIC'),\n      appDataPath: () => path.join(localAppData(), 'Skyrim Special Edition EPIC'),\n    },\n    fallout4: {\n      settingsPath: () => path.join(util.getVortexPath('documents'), 'My Games', 'Fallout4 EPIC'),\n      appDataPath: () => path.join(localAppData(), 'Fallout4 EPIC'),\n    },\n  },\n}, gameId => gameStoreForGame(gameId));\n\nlet gameStoreForGame: (gameId: string) => string = () => undefined;\n\nexport function initGameSupport(api: types.IExtensionApi) {\n  gameStoreForGame = (gameId: string) =>\n    selectors.discoveryByGame(api.store.getState(), gameId)?.store;\n}\n\nexport function settingsPath(game: types.IGame): string {\n  return gameSupport.get(game.id, 'settingsPath')?.()\n      ?? game.details?.settingsPath?.();\n}\n\nexport function appDataPath(game: types.IGame): string {\n  return gameSupport.get(game.id, 'appDataPath')?.()\n      ?? game.details?.appDataPath?.();\n}\n","import { appDataPath, initGameSupport, settingsPath } from './gameSupport';\r\n\r\nimport Promise from 'bluebird';\r\nimport * as path from 'path';\r\nimport { fs, selectors, types, util } from 'vortex-api';\r\n\r\nfunction init(context: types.IExtensionContext) {\r\n  initGameSupport(context.api);\r\n  context.registerAction('mod-icons', 300, 'open-ext', {},\r\n                         'Open Mod Staging Folder', () => {\r\n    const store = context.api.store;\r\n    util.opn(selectors.installPath(store.getState())).catch(err => undefined);\r\n  });\r\n\r\n  context.registerAction('mod-icons', 300, 'open-ext', {},\r\n                         'Open Game Folder', () => {\r\n    const state = context.api.store.getState();\r\n    const gameId: string = selectors.activeGameId(state);\r\n    getGameInstallPath(state, gameId).then((installPath) => {\r\n      openPath(installPath);\r\n    }).catch(e => { context.api.showErrorNotification('Failed to open game folder', e); });\r\n  });\r\n\r\n  context.registerAction('download-actions', 100, 'open-ext', {},\r\n                         'Open Folder', () => {\r\n    const state = context.api.getState();\r\n    const dlPath = selectors.downloadPath(state);\r\n    util.opn(dlPath).catch(() => undefined);\r\n  });\r\n\r\n  context.registerAction('mod-icons', 300, 'open-ext', {},\r\n                         'Open Game Mods Folder', () => {\r\n    const state = context.api.store.getState();\r\n    const gameRef: types.IGame = util.getGame(selectors.activeGameId(state));\r\n    getGameInstallPath(state, gameRef.id).then((installPath) => {\r\n      // Check if the extension provided us with a \"custom\" directory\r\n      //  to open when the button is clicked - otherwise assume we\r\n      //  just need to use the default queryModPath value.\r\n      let modPath = ((!!gameRef.details) && (!!gameRef.details.customOpenModsPath))\r\n        ? gameRef.details.customOpenModsPath\r\n        : gameRef.queryModPath(installPath);\r\n      if (!path.isAbsolute(modPath)) {\r\n        // We add a path separator at the end to avoid running executables\r\n        //  instead of opening file explorer. This happens when the\r\n        //  a game's mods folder is named like its executable.\r\n        //  e.g. Vampire the Masquerade's default modding folder is ../Vampire/\r\n        //  and within the same directory ../Vampire.exe exists as well.\r\n        modPath = path.join(installPath, modPath) + path.sep;\r\n      }\r\n\r\n      openPath(modPath, installPath);\r\n    }).catch(e => { context.api.showErrorNotification('Failed to open the game mods folder', e); });\r\n  });\r\n\r\n  context.registerAction('mod-icons', 300, 'open-ext', {},\r\n                         'Open Game Settings Folder', () => {\r\n    const state = context.api.getState();\r\n    const gameId = selectors.activeGameId(state);\r\n    const game = util.getGame(gameId);\r\n    const target = settingsPath(game);\r\n    if (target !== undefined) {\r\n      openPath(target);\r\n    }\r\n  }, () => {\r\n    const state = context.api.getState();\r\n    const gameId = selectors.activeGameId(state);\r\n    const game = util.getGame(gameId);\r\n    return settingsPath(game) !== undefined;\r\n  });\r\n\r\n  context.registerAction('mod-icons', 300, 'open-ext', {},\r\n                         'Open Game Application Data Folder', () => {\r\n    const state = context.api.getState();\r\n    const gameId = selectors.activeGameId(state);\r\n    const game = util.getGame(gameId);\r\n    const target = appDataPath(game);\r\n    if (target !== undefined) {\r\n      openPath(target);\r\n    }\r\n  }, () => {\r\n    const state = context.api.getState();\r\n    const gameId = selectors.activeGameId(state);\r\n    const game = util.getGame(gameId);\r\n    return appDataPath(game) !== undefined;\r\n  });\r\n\r\n  context.registerAction('mods-action-icons', 100, 'open-ext', {},\r\n                         'Open in File Manager', (instanceIds: string[]) => {\r\n    const store = context.api.store;\r\n    const installPath = selectors.installPath(store.getState());\r\n    const modPath = path.join(installPath, instanceIds[0]);\r\n    openPath(modPath, installPath);\r\n  }, instanceIds => {\r\n    const state: types.IState = context.api.store.getState();\r\n    const gameMode = selectors.activeGameId(state);\r\n    return util.getSafe(state.persistent.mods, [gameMode, instanceIds[0]], undefined) !== undefined;\r\n  });\r\n\r\n  context.registerAction('mods-action-icons', 100, 'open-ext', {},\r\n                         'Open Archive', (instanceIds: string[]) => {\r\n    const state = context.api.getState();\r\n    const downloadPath = selectors.downloadPath(state);\r\n    const mod = util.getSafe(state.persistent.mods, [selectors.activeGameId(state), instanceIds[0]], undefined);\r\n    const downloadId = mod?.archiveId ?? instanceIds[0];\r\n    const download: types.IDownload = util.getSafe(state.persistent.downloads.files, [downloadId], undefined);\r\n    if (!download) {\r\n      context.api.showErrorNotification('Failed to open mod archive', 'The mod archive could not be found.', { allowReport: false });\r\n      return;\r\n    }\r\n    const modArchivePath = path.join(downloadPath, download.localPath);\r\n    openPath(modArchivePath, downloadPath);\r\n  }, instanceIds => {\r\n    const state: types.IState = context.api.store.getState();\r\n    const gameMode = selectors.activeGameId(state);\r\n    const mod = util.getSafe(state.persistent.mods, [gameMode, instanceIds[0]], undefined);\r\n    const downloadId = mod?.archiveId ?? instanceIds[0];\r\n    return util.getSafe(state.persistent.downloads.files, [downloadId], undefined) !== undefined;\r\n  });\r\n\r\n  context.registerAction('download-icons', 300, 'open-ext', {},\r\n                         'Open in File Manager', () => {\r\n    const store = context.api.store;\r\n    util.opn(selectors.downloadPath(store.getState())).catch(err => undefined);\r\n  });\r\n\r\n  return true;\r\n}\r\n\r\nfunction getGameInstallPath(state: any, gameId: string): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const discoveredPath: string =\r\n      util.getSafe(state, ['settings', 'gameMode', 'discovered', gameId, 'path'], undefined);\r\n    if (discoveredPath === undefined) {\r\n      reject(new Error(`Could not resolve game path for \"${gameId}\"`));\r\n    } else {\r\n      resolve(discoveredPath);\r\n    }\r\n  });\r\n}\r\n\r\nfunction openPath(mainPath: string, fallbackPath?: string) {\r\n  fs.statAsync(mainPath)\r\n    .then(() => util.opn(mainPath).catch(() => undefined))\r\n    .catch(() => (fallbackPath !== undefined)\r\n      ? util.opn(fallbackPath).catch(() => undefined)\r\n      : undefined)\r\n    .then(() => null);\r\n}\r\n\r\nexport default init;\r\n","module.exports = require(\"bluebird\");","module.exports = require(\"path\");","module.exports = require(\"vortex-api\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}